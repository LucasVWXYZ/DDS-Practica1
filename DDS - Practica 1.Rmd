---
title: "DDS - Práctica 1"
output: html_document
date: "2024-01-09"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Data Driven Security - Actividad Evaluable 1

## Víctor López García & Lucas Carrillo Mas

### 2. Introducción a R

```{r carga paquetes}
library(tidyverse)
library(readr)
library(stringr)
library(tidyr)
```

```{r carga datos}
Logs_http <- read_delim("epa-http.csv", delim = " ", show_col_types = FALSE)
```

```{r limpieza datos}
colnames(Logs_http) <- c("source", "timestamp", "petition", "status", "bytes")
Logs_http <- separate(Logs_http, petition, into = c("type", "url", "protocol"), sep = " ")
Logs_http <- Logs_http %>%
  mutate(
    # source se mantiene como caracteres
    timestamp = strptime(timestamp, format = "[%d:%H:%M:%s]"),  # Cambiar la columna timestamp a fecha
    type = as.factor(type),  # Cambiar la columna type a factor
    # url se mantiene como caracteres
    # protocol se mantiene como caracteres
    status = as.factor(status),  # Cambiar la columna status a factor
    bytes = as.integer(bytes)  # Cambiar la columna port a entero
  )

head(Logs_http)
```

```{r visualización dataframe}
View(Logs_http)
```

Empezamos con los ejercicios de la práctica, que listaremos a continuación junto con su resolución en formato código.

#### Pregunta 1

1.  Cuales son las dimensiones del dataset cargado (número de filas y columnas)

```{r análisis preliminar}
dimensiones_dataframe <- dim(Logs_http)
print(dimensiones_dataframe)
```

Lo que nos dice que el dataframe tiene 47747 filas y 7 columnas (después de separar la columna "petition" en 3).

2.  Valor medio de la columna Bytes

```{r análisis preliminar}
media_bytes <- mean(Logs_http$bytes, na.rm=TRUE)
print(media_bytes)
```
#### Pregunta 2

De las diferentes IPs de origen accediendo al servidor, ¿cuantas pertenecen a una IP claramente educativa (que contenga ".edu")?


## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
